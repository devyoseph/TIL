## Knapsack

> 10kg 용량의 배낭에 4가지 선물 중 선택해서 넣을 수 있다.
> 최대 가치가 되도록 선택하려면?

* 배낭(Knapsack) 문제는 n개의 물건과 각 물건 i의 무게 w와 가치 v가 주어지고, 배낭의 용량은 W일 때, 배낭에 담을 수 있는 물건의 최대 가치를 찾는 문제이다. 단, 배낭에 담은 물건의 무게의 합이 W를 초과하지 말아야 하고, 각 물건은 1개씩만 있다.

​         

### 접근

* 배낭 문제를 DP로 접근해보자

> 먼저 배낭 문제의 부분 문제를 찾아내야한다.
>
> * 물건과 물건의 무게는 부분 문제를 정의하는데 반드시 필요하다.
>
> * 왜냐하면 배낭이 비어있는 상태에서 시작해 물건을 하나씩 담는 것과 안 담는 것을 가치에 따라 결정해야하기 때문이다.
>
> * 또한 물건을 배낭에 담으려고 할 경우 배낭 용량의 초과 여부를 검사해야한다.
>
>   ​        
>
>   #### 배낭 문제의 부분 문제 정의
>
>   * W = 배낭의 용량(Kg)
>   * v,w = 가치(만 원), 무게(kg) 물건
>   * K[i,w] = 물건 1~i까지만 고려하고 배낭의 용량이 w일 때 최대 가치
>
>   ​          
>
>   #### K[i, w]재귀적으로 정리하면
>
>   <img src="/Users/yang-yoseb/Library/Application Support/typora-user-images/image-20220331144418957.png" alt="image-20220331144418957" style="zoom: 67%;" />
>
>   * 1번째: 0일 때는 (더 이상 넣을 수 없다면) 당연히 가치도 0이다.
>   * 2번째: 현재 wi를 포함하지 않는 경우
>   * 3번째: 최적해가 물건 i를 포함하는 경우: 넣을 수 있는 무게에서 wi를 빼지만 그만큼의 가치를 더함
>
>   ​       

​          

### Knapsack 알고리즘

```java
배낭의 용량 W
n개의 물건과 각 물건 i의 무게 wi와 가치 vi, 단 i = 1, 2, ...., n
K[n, W]
  
FOR i in 0 ~ n : K[i, 0] = 0
FOR w in 0 ~ W : K[0, w] = 0

FOR i in 1 ~ n
  FOR w in 1 ~ W
  		IF wi > w
  				K[i, w] = K[i -1, w]
  		ELSE
  				K[i, w] = max(v + K[i-1, w - wi], K[i-1, w])
RETURN K[n, W]
```

