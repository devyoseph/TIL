# Docker + Jenkins ì„¤ì¹˜ (1)

<aside>
ğŸ’¡ `ë„ì»¤`ë¥¼ ì‚¬ìš©í•´ì„œ `ì  í‚¨ìŠ¤`ë¥¼ ì„¤ì¹˜í•˜ê³ , `ì  í‚¨ìŠ¤` ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ `ë„ì»¤`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•.

</aside>

### Docker

- í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
```

- GPG Key ì¸ì¦

```bash
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

- docker repository ë“±ë¡

```bash
sudo add-apt-repository \
"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
$(lsb_release -cs) \
stable"
```

- docker ì„¤ì¹˜

```bash
sudo apt-get update && sudo apt-get install docker-ce docker-ce-cli containerd.io
```

- docker ì„¤ì¹˜ í™•ì¸

```bash
docker -v
```

### Jenkin ì»¨í…Œì´ë„ˆ ì„¤ì¹˜

<aside>
ğŸ’¡ privileged : ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ host ì‹œìŠ¤í…œì— ì ‘ê·¼ ê¶Œí•œì„ ì£¼ëŠ” ì˜µì…˜(default: false)

</aside>

- run ëª…ë ¹ì–´

```bash
sudo docker run -d --name jenkins -u root --privileged \
-p '9090:8080' \
-v '/home/ubuntu/docker-volume/jenkins:/var/jenkins_home' \
-v '/var/run/docker.sock:/var/run/docker.sock' \
-v '/usr/bin/docker:/usr/bin/docker' \
jenkins/jenkins
```

- Docker ì‚¬ìš© í™•ì¸

```bash
# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ bash ì ‘ê·¼
sudo docker exec -it jenkins bash

# Docker í™•ì¸
docker -v
```

### Jenkins ì»¨í…Œì´ë„ˆ ë‚´ë¶€ docker-compose ì„¤ì¹˜

```bash
# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ bash ì ‘ê·¼
docker exec -it jenkins bash

# ë²„ì „ì˜ ê²½ìš° í˜¸ìŠ¤íŠ¸ì™€ ë§ì¶°ì„œ ì„¤ì¹˜í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.
curl -L "https://github.com/docker/compose/releases/download/1.27.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# jenkins ìœ ì € docker-compose ì‚¬ìš© ê¶Œí•œ ë¶€ì—¬
chmod +x /usr/local/bin/docker-compose

# ì„¤ì¹˜ í™•ì¸
docker-compose -v
```

---

### Jenkins í™˜ê²½ì„¤ì •

1. `ë„ë©”ì¸:9090` ì ‘ì†
2. `sudo docker logs jenkins` ëª…ë ¹ì–´ ì…ë ¥ â†’ root ê³„ì • ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ ì…ë ¥

![Untitled](Docker%20+%20Jenkins%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20(1)%2034a67093634e43de9ea660a9a3e89f87/Untitled.png)

1. `Install suggested plugins` ì„ íƒ
2. ê³„ì • ìƒì„±